<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('global/meta'); -%>

    <!-- Title Page-->
    <title> <%= title %> </title>

    <%- include('global/css'); -%>

</head>

<body class="animsition">
    <div class="page-wrapper">
        <!-- HEADER MOBILE-->
        <%- include('global/navigation_mobile'); -%>

        <!-- MENU SIDEBAR-->
        <%- include('global/navigation'); -%>

        <!-- PAGE CONTAINER-->
        <div id="app" class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">

                        <div class="header-wrap">
                          <h3> <%= title %> </h3>
                          <%- include('global/header'); -%>
                        </div>
                    </div>
                </div>
            </header>
            <!-- END HEADER DESKTOP-->

            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                      <div class="row">
          							<div class="col-md-12">
          								<div class="card">
          									<div class="card-header">
          										<i class="mr-2 fa fa-list"></i>
          										<strong class="card-title">Daftar Kategori</strong>
                              <button type="button" class="btn btn-sm btn-secondary mb-1 float-right" data-toggle="modal" data-target="#tambahModal">
  								              <i class="fa fa-plus"></i>&nbsp; Tambah Baru
          										</button>
          									</div>
          									<div class="card-body">
                              <div class="table-responsive m-b-40">
                                  <table class="table table-borderless table-data3">
                                      <thead>
                                          <tr>
                                              <th>Kode</th>
                                              <th>Nama</th>
                                              <th>Detail</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr v-for="data in kategori">
                                              <td>{{data.kode_kategori}}</td>
                                              <td>{{data.nama_kategori}}</td>
                                              <td>{{data.detail_kategori}}</td>

                                          </tr>

                                      </tbody>
                                  </table>
                              </div>

          									</div>
          								</div>
          							</div>
          						</div>

                          <%- include('global/footer'); -%>
                    </div>
                </div>
            </div>
            <!-- modal medium -->
            <!-- ***modal ditaruh diluar main content agar layernya di atas main content*** -->
            <div class="modal fade" id="tambahModal" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="mediumModalLabel">Tambah Kategori</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action="" method="post">
                      <div class="form-group">
                          <label for="nama" class=" form-control-label">Nama Kategori</label>
                          <input v-model="nama" type="text" id="nama" placeholder="Masukkan Nama Kategori" class="form-control">
                      </div>
                      <div class="form-group">
                          <label for="kode" class=" form-control-label">Kode Kategori</label>
                          <input v-model="kode" type="text" id="kode" placeholder="Masukkan Kode Kategori" class="form-control">
                      </div>
                      <div class="form-group">
                        <label for="textarea-input" class=" form-control-label">Detail Kategori</label>
                        <textarea v-model="detail" name="textarea-input" id="textarea-input" rows="4" placeholder="Masukkan Detail Kategori" class="form-control"></textarea>
                      </div>
                      <div>
                        <button @click="addKategori" data-dismiss="modal" type="button" class="btn btn-primary btn-block btn-lg">Confirm</button>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button  type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

                  </div>
                </div>
              </div>
            </div>
            <!-- end modal medium -->
        </div>

    </div>

  <%- include('global/js'); -%>
  <script type="text/javascript">
    var app = new Vue({
      el: '#app',
      data: {
        nama: '',
        kode: '',
        detail: ''
      },
      firebase: {
        kategori: db.ref('kategori')
      },
      methods: {
        addKategori () {
          this.$firebaseRefs.kategori.push({
            nama_kategori: this.nama,
            kode_kategori: this.kode,
            detail_kategori: this.detail
          });
          this.nama = '';
          this.kode = '';
          this.detail = '';
        }
      }
    });
  </script>

</body>

</html>
<!-- end document-->
